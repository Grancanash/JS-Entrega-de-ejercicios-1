class c{constructor(){this.focusTodo(),this.initTodos(),this.initEventListeners()}focusTodo=()=>{document.querySelector("#containerEx9>form").reset(),document.getElementById("todo").focus()};initTodos=()=>{const e=JSON.parse(localStorage.getItem("todos"));if(e){document.getElementById("listTodo");for(const t of e)this.addTask(t.description,t.completed)}};initEventListeners=()=>{document.querySelector("#containerEx9 > form").addEventListener("submit",this.handlerAddTodo),document.getElementById("resetTasks").addEventListener("click",this.resetTasks)};setLocalStorage=()=>{const e=document.querySelectorAll("#listTodo>li");let t=[];for(const s of e){let o={};o.description=s.querySelector("p").textContent,o.completed=s.querySelector("input[type=checkbox]").checked,t.push(o)}localStorage.setItem("todos",JSON.stringify(t))};handlerAddTodo=e=>{e.preventDefault();const t=document.getElementById("todo").value;this.addTask(t),this.focusTodo(),this.setLocalStorage()};handlerResetTodo=e=>{this.resetTasks()};addTask=(e="",t=!1)=>{const s=document.getElementById("listTodo"),o=document.createElement("input");o.type="checkbox",o.checked=t,o.addEventListener("change",this.setLocalStorage);const d=document.createElement("label");d.appendChild(o),o.insertAdjacentHTML("afterend","<span>Tarea finalizada</span>");const n=document.createElement("li");n.innerHTML=`<p>${e}</p>`,n.appendChild(d),s.appendChild(n)};resetTasks=()=>{localStorage.removeItem("todos"),document.getElementById("listTodo").innerText="",this.focusTodo()}}const a=()=>{new c};export{a as initExercise};
